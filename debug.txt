mkdir -p /home/zzx/code/ucore-clean/obj/config
make CC="/usr/bin/gcc" -C package/config conf
/usr/bin/gcc -DCURSES_LOC="<ncurses.h>" -DLOCALE -g -O2   conf.o  zconf.tab.o -o conf -lncursesw -lcurses
*
* uCore Configuration
*
*
* Toolchain setup
*
Cross-compiler tool prefix (CROSS_COMPILE) [mips-sde-elf-] mips-sde-elf-
Additional CFLAGS (ADDITIONAL_CFLAGS) [] 
Additional LDFLAGS (ADDITIONAL_LDFLAGS) [] 
*
* Memory Management
*
Support for paging of anonymous memory (swap) (SWAP) [N/y/?] n
Heap
> 1. SLAB (HEAP_SLAB) (NEW)
  2. SLOB (HEAP_SLOB) (NEW)
choice[1-2]: 1
*
* Schedule
*
Scheduler
> 1. Round-Robin (SCHEDULER_RR) (NEW)
  2. MLFQ (SCHEDULER_MLFQ)
choice[1-2]: 1
*
* Filesystem
*
Enable Simple Filesystem(SFS) (HAVE_SFS) [Y/n] y
  SFS Image size (SFS_IMAGE_SIZE) [4] 4
  Minimize contents (SFS_MINIMAL_CONTENT) [N/y/?] (NEW) n
Enable YAFFS2 (HAVE_YAFFS2) [N/y] n
Enable Fat32 (HAVE_FATFS) [N/y] n
#
# configuration written to /home/zzx/code/ucore-clean/obj/.config
#
mkdir -p /home/zzx/code/ucore-clean/obj
mkdir -p /home/zzx/code/ucore-clean/obj/kernel
Enter /home/zzx/code/ucore-clean/src/kern-ucore/schedule
DEP sched_RR.c
DEP sched.c
CC sched.c
CC sched_RR.c
LD /home/zzx/code/ucore-clean/obj/kernel/schedule/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/syscall
DEP gettimeofday.c
CC gettimeofday.c
LD /home/zzx/code/ucore-clean/obj/kernel/syscall/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/fs
DEP sysfile.c
DEP iobuf.c
DEP fs.c
DEP file.c
CC file.c
CC fs.c
CC iobuf.c
CC sysfile.c
LD /home/zzx/code/ucore-clean/obj/kernel/fs/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/fs/devs
DEP dev_stdout.c
DEP dev_stdin.c
DEP dev_null.c
DEP dev_disk1.c
DEP dev_disk0.c
DEP dev.c
CC dev.c
CC dev_disk0.c
CC dev_disk1.c
CC dev_null.c
CC dev_stdin.c
CC dev_stdout.c
LD /home/zzx/code/ucore-clean/obj/kernel/fs/devs/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/fs/pipe
DEP pipe_state.c
DEP pipe_root.c
DEP pipe_inode.c
DEP pipe.c
CC pipe.c
CC pipe_inode.c
CC pipe_root.c
CC pipe_state.c
LD /home/zzx/code/ucore-clean/obj/kernel/fs/pipe/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/fs/vfs
DEP vfspath.c
DEP vfslookup.c
DEP vfsfile.c
DEP vfsdev.c
DEP vfs.c
DEP inode.c
CC inode.c
CC vfs.c
CC vfsdev.c
CC vfsfile.c
CC vfslookup.c
CC vfspath.c
LD /home/zzx/code/ucore-clean/obj/kernel/fs/vfs/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/fs/swap
Enter /home/zzx/code/ucore-clean/src/kern-ucore/fs/sfs
DEP sfs_lock.c
DEP sfs_io.c
DEP sfs_inode.c
DEP sfs_fs.c
DEP sfs.c
DEP bitmap.c
CC bitmap.c
CC sfs.c
CC sfs_fs.c
CC sfs_inode.c
CC sfs_io.c
CC sfs_lock.c
LD /home/zzx/code/ucore-clean/obj/kernel/fs/sfs/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/process
DEP signal.c
DEP proc.c
CC proc.c
CC signal.c
LD /home/zzx/code/ucore-clean/obj/kernel/process/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/mm
DEP slab.c
DEP vmm.c
DEP swap.c
DEP shmem.c
CC shmem.c
CC swap.c
CC vmm.c
CC slab.c
LD /home/zzx/code/ucore-clean/obj/kernel/mm/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/libs
DEP string.c
DEP readline.c
DEP rb_tree.c
CC rb_tree.c
CC readline.c
CC string.c
LD /home/zzx/code/ucore-clean/obj/kernel/libs/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/glue-ucore
DEP pmm.c
CC pmm.c
LD /home/zzx/code/ucore-clean/obj/kernel/glue-ucore/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/glue-ucore/libs
DEP string.c
DEP rand.c
DEP printfmt.c
DEP hash.c
CC hash.c
CC printfmt.c
CC rand.c
CC string.c
LD /home/zzx/code/ucore-clean/obj/kernel/glue-ucore/libs/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/sync
DEP wait.c
DEP sync.c
DEP sem.c
DEP mbox.c
DEP event.c
CC event.c
CC mbox.c
CC sem.c
CC sync.c
CC wait.c
LD /home/zzx/code/ucore-clean/obj/kernel/sync/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/arch/mips
Enter /home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/debug
DEP panic.c
DEP monitor.c
DEP kdebug.c
CC kdebug.c
CC monitor.c
CC panic.c
LD /home/zzx/code/ucore-clean/obj/kernel/arch/mips/debug/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/driver
DEP vga.c
DEP ramdisk.c
DEP picirq.c
DEP intr.c
DEP ide.c
DEP console.c
DEP clock.c
CC clock.c
CC console.c
CC ide.c
CC intr.c
CC picirq.c
CC ramdisk.c
CC vga.c
LD /home/zzx/code/ucore-clean/obj/kernel/arch/mips/driver/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/init
DEP init.c
CC init.c
LD /home/zzx/code/ucore-clean/obj/kernel/arch/mips/init/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/mm
DEP vmm.c
DEP thumips_tlb.c
DEP pmm.c
DEP buddy_pmm.c
CC buddy_pmm.c
CC pmm.c
CC thumips_tlb.c
CC vmm.c
LD /home/zzx/code/ucore-clean/obj/kernel/arch/mips/mm/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/process
DEP signal.c
DEP proc.c
CC proc.c
CC signal.c
LD /home/zzx/code/ucore-clean/obj/kernel/arch/mips/process/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/libs
DEP divmod.c
DEP udivmod.c
DEP udivmodsi4.c
DEP mips_io.c
CC mips_io.c
CC udivmodsi4.c
CC udivmod.c
CC divmod.c
LD /home/zzx/code/ucore-clean/obj/kernel/arch/mips/libs/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/syscall
DEP syscall.c
CC syscall.c
LD /home/zzx/code/ucore-clean/obj/kernel/arch/mips/syscall/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/glue-ucore
DEP mp.c
CC mp.c
LD /home/zzx/code/ucore-clean/obj/kernel/arch/mips/glue-ucore/builtin.o
Enter /home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/trap
DEP trap.c
CC trap.c
LD /home/zzx/code/ucore-clean/obj/kernel/arch/mips/trap/builtin.o
Building uCore Kernel for mips
mips-sde-elf-gcc -fno-builtin -nostdlib  -nostdinc -g  -EL -G0 -fno-delayed-branch -Wa,-O0 -c -o /home/zzx/code/ucore-clean/obj/bootloader/loader.o arch/mips/bootasm.S
mips-sde-elf-ld -EL -n -G0 -Ttext 0xbfc00000 -o /home/zzx/code/ucore-clean/obj/bootloader/loader /home/zzx/code/ucore-clean/obj/bootloader/loader.o
mips-sde-elf-objcopy -O binary  -S /home/zzx/code/ucore-clean/obj/bootloader/loader /home/zzx/code/ucore-clean/obj/bootloader/loader.bin
mkdir -p /home/zzx/code/ucore-clean/obj/kernel
mkdir -p /home/zzx/code/ucore-clean/obj/kernel/init
mkdir -p /home/zzx/code/ucore-clean/obj/kernel/trap
mkdir -p /home/zzx/code/ucore-clean/obj/kernel/process
mkdir -p /home/zzx/code/ucore-clean/obj/kernel/module
mips-sde-elf-gcc -mips32 -c -D__ASSEMBLY__ -DMACH_QEMU -g -EL -G0 -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/init -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/libs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/debug -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/driver -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/trap -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/mm -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/sync -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/process -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/schedule -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/syscall -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs/vfs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs/sfs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs/devs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/glue-ucore -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/module /home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/init/entry.S  -o /home/zzx/code/ucore-clean/obj/kernel/init/entry.o
mips-sde-elf-gcc -mips32 -c -D__ASSEMBLY__ -DMACH_QEMU -g -EL -G0 -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/init -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/libs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/debug -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/driver -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/trap -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/mm -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/sync -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/process -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/schedule -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/syscall -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs/vfs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs/sfs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs/devs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/glue-ucore -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/module /home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/trap/exception.S  -o /home/zzx/code/ucore-clean/obj/kernel/trap/exception.o
mips-sde-elf-gcc -mips32 -c -D__ASSEMBLY__ -DMACH_QEMU -g -EL -G0 -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/init -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/libs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/debug -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/driver -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/trap -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/mm -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/sync -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/process -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/schedule -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/syscall -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs/vfs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs/sfs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs/devs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/glue-ucore -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/module /home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/trap/vectors.S  -o /home/zzx/code/ucore-clean/obj/kernel/trap/vectors.o
mips-sde-elf-gcc -mips32 -c -D__ASSEMBLY__ -DMACH_QEMU -g -EL -G0 -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/init -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/libs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/debug -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/driver -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/trap -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/mm -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/sync -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/process -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/schedule -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/syscall -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs/vfs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs/sfs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs/devs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/glue-ucore -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/module /home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/process/switch.S  -o /home/zzx/code/ucore-clean/obj/kernel/process/switch.o
mips-sde-elf-gcc -mips32 -c -D__ASSEMBLY__ -DMACH_QEMU -g -EL -G0 -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/init -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/libs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/debug -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/driver -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/trap -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/mm -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/sync -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/process -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/schedule -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/syscall -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs/vfs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs/sfs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/fs/devs -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/glue-ucore -I/home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/module /home/zzx/code/ucore-clean/src/kern-ucore/arch/mips/process/entry.S  -o /home/zzx/code/ucore-clean/obj/kernel/process/entry.o
Linking uCore
sed 's%_FILE_%/home/zzx/code/ucore-clean/obj/sfs-orig.img%g' tools/initrd_piggy.S.in > /home/zzx/code/ucore-clean/obj/kernel/initrd_piggy.S
mips-sde-elf-as -EL -g -mips32 /home/zzx/code/ucore-clean/obj/kernel/initrd_piggy.S -o /home/zzx/code/ucore-clean/obj/kernel/initrd.img.o
